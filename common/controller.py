# -*- coding=utf-8 -*-

import os
import prettytable
import importlib

from data.config.config import USAGE, SYSPATH
from lib.scriptFunc import loadScripts, listScripts, showScripts, addScripts
from common.outputHelp import print_error, print_info, print_success, print_warn
from common.loadHelp import loadcms, loadscript, loadurl, loadscript 

def command(args):
    if args.url and args.cms and args.script:
        url = args.url
        cms = args.cms
        script = args.script
        loadurl(url)
        loadcms(cms)
        loadscript(script)

        loadScripts(url, cms, script)
	
    elif args.targetfile and args.cms and args.script:
        targetfile = args.targetfile
        cms = args.cms
        script = args.script
        loadfile(file)
        loadcms(cms)
        loadscript(script)

        with open(targetfile) as f:
            url = f.readline()
            loadScripts(url, cms, script)
        
    elif args.cms and args.list:
        cms = args.cms
        loadcms(cms)

        dirs = [cms]
        listScripts(dirs)
        
    elif args.list:
        path = SYSPATH + "\\scripts"
        dirs = os.listdir(path)
        listScripts(dirs)
        
    elif args.cms and args.script and args.show:
        cms = args.cms
        script = args.script
        loadcms(cms)
        loadscript(script)

        showScripts(cms, script)

    elif args.cms and args.add:
        cms = args.cms
        script = args.add
        loadcms(cms)
        loadscript(script)

        addScripts(cms, script)
        
    else:
        print_warn(USAGE)
        



##可以增加 列出cms








