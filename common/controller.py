# -*- coding=utf-8 -*-

import os
import prettytable
import importlib

from resource.config.config import USAGE, SYSPATH

def command(args):
    if args.url and args.cms and args.script:
        url = args.url
        cms = args.cms
        script = args.script
        
        

	
    elif args.targetfile and args.cms and args.script:
        targetfile = args.targetfile
        cms = args.cms
        script = args.script
        
    elif args.cms and args.list:
        cms = args.cms
        
    elif args.list:
        table = prettytable.PrettyTable()
        table.field_names = ["ID", "cms Name", "script Name"]
        path = SYSPATH + "\\scripts"
        dirs = os.listdir(path)
        num = 1
        for dir in dirs:
            row = []
            row.append(num)
            row.append(dir)
            scripts = os.listdir(path + "\\" + dir)
            result = ""
            for script in scripts:
                result += script + "\n"
            row.append(result)
            table.add_row(row)
            num += 1
        print(table)
    
    elif args.cms and args.script and args.show:
        cms = args.cms
        script = args.script
        path = SYSPATH + "\\scripts" + "\\" + cms + "\\" + script
        with open(path) as f:
            content = f.read()
        
        print("the " + cms + "'s " + script + ":\n")
        print(content)
    else:
        print(USAGE)
        



##可以增加 列出cms








